<% let f = {
	i:"db_"+table+"_insert",
	s:"db_"+table+"_search",
	u:"db_"+table+"_update"	
} %>
<div id="db_<%= table %>" class="db_container">
	<form id="db_<%= table %>_insert" class="db_insert" target="_blank" action="/db/<%= table %>/insert" method="post"></form>
	<form id="db_<%= table %>_search" class="db_search" action="/db/<%= table %>/search" method="post"></form>
	<form id="db_<%= table %>_update" class="db_update" action="/db/<%= table %>/update" method="post"></form>

	<table class="db_table">
		<thead>
			<tr>
				<th colspan="2">Colonnes</th>
				<% for( let field of template ) { 
					if (field.input.match(/id|system/)) continue ; %>
					<td><%= field.name %></td>
				<% } %>
				<td>R</td>
			</tr>
			<tr class="db_insert">
				<th colspan="2">Ajouter</th>
				<% for( let field of template ) { 
					if (field.input.match(/id|system/)) continue ; %>
					<td><input form="<%= f.i %>" type="<%= field.input %>" name="<%= field.name %>" placeholder="<%= field.name %>"></td>
				<% } %>
				<td><button type="submit" form="<%= f.i %>">A</button></td>
				<td class="res"></td>
			</tr>
			<tr>
				<th rowspan="2">Recherche</th>
				<th>Max</th>
				<% for( let field of template ) {
					if (field.input.match(/id|system/)) continue ; %>
					<td <% if (field.input.match(/text|textarea|file/)) { %> rowspan="2" <% } %> ><input type="<%= field.input == "file" ? "text" : field.input %>" name="<%= field.name %>" placeholder=" -- "></td>
				<% } %>
				<td rowspan="2">R</td>
			</tr>
			<tr>
				<th>Min</th>
				<% for( let field of template ) {
					if (field.input.match(/id|system/)) continue ; %>
					<% if (!field.input.match(/text|textarea|file/)) { %> <td><input type="<%= field.input == "file" ? "text" : field.input %>" name="<%= field.name %>" placeholder=" -- "></td> <% } %>
				<% } %>
			</tr>
		</thead>
		<tbody>
			<%- include('table_body.ejs', {template, body}) %>
		</tbody>
	</table>
</div>